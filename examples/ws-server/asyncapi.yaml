asyncapi: 2.4.0
info:
  title: something 
  version: 1.0.0
  description: placeholder
servers:
  websocket:
    url: ws://localhost:4000
    protocol: ws
  wsServer:
    url: ws://localhost:3000
    protocol: ws
    x-kind: local
channels:
  /listen:
    servers:
      - websocket
    bindings:
      ws:
        bindingVersion: 0.1.0
    publish:
      operationId: greet
      message:
        $ref: '#/components/messages/greet'
  /ping:
    servers:
      - wsServer
    bindings:
      ws:
        bindingVersion: 0.1.0
    publish:
      operationId: ping
      message:
        $ref: '#/components/messages/greet'
  /send:
    servers:
      - websocket
    bindings:
      ws:
        bindingVersion: 0.1.0
    subscribe:
      message: 
        $ref: '#/components/messages/greet'
components:
  messages:
    greet:
      payload:
        type: object
        properties:
          message:
            type: string
